# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞: "houses.map is not a function"

**–î–∞—Ç–∞:** 23 —Ñ–µ–≤—Ä–∞–ª—è 2026  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ  

---

## üêõ –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### –û—à–∏–±–∫–∞

```
Uncaught TypeError: houses.map is not a function
    at Home (Home.jsx:455:23)
```

### –ü—Ä–∏—á–∏–Ω–∞

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è API –¥–æ v1.1.0, —Å–µ—Ä–≤–µ—Ä —Å—Ç–∞–ª **–≤—Å–µ–≥–¥–∞** –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π:

```javascript
{
  "data": [...],
  "pagination": {...}
}
```

–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥ –æ–∂–∏–¥–∞–ª –º–∞—Å—Å–∏–≤:

```javascript
const houses = await api.getHouses()
setHouses(houses) // houses —ç—Ç–æ –æ–±—ä–µ–∫—Ç, –∞ –Ω–µ –º–∞—Å—Å–∏–≤!
houses.map(...) // ‚ùå –û–®–ò–ë–ö–ê!
```

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `src/services/api.js`

–î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞–º–µ—Ä–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```javascript
// –û–ø—Ä–µ–¥–µ–ª—è–µ–º, –∑–∞–ø—Ä–∞—à–∏–≤–∞–ª –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é
const wantsPagination = params.page !== undefined || 
                        params.limit !== undefined || 
                        params.offset !== undefined

// ...

// –í–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω—É–∂–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
if (wantsPagination && pagination) {
  return { data: mappedHouses, pagination: pagination }
}
return mappedHouses // –ø—Ä–æ—Å—Ç–æ –º–∞—Å—Å–∏–≤
```

### –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

| –í—ã–∑–æ–≤ | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç | –¢–∏–ø |
|-------|------------|-----|
| `getHouses()` | `[...]` | Array |
| `getHouses({})` | `[...]` | Array |
| `getHouses({ rooms: '3' })` | `[...]` | Array |
| `getHouses({ page: 1 })` | `{ data: [...], pagination: {...} }` | Object |
| `getHouses({ limit: 20 })` | `{ data: [...], pagination: {...} }` | Object |
| `getHouses({ offset: 10 })` | `{ data: [...], pagination: {...} }` | Object |

---

## üìã –ß—Ç–æ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç

### ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –ë–ï–ó –∏–∑–º–µ–Ω–µ–Ω–∏–π

```javascript
// –í Home.jsx (–∏ –≤–µ–∑–¥–µ, –≥–¥–µ –Ω–µ—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏–∏)
const houses = await api.getHouses()
setHouses(houses) // ‚úÖ houses —ç—Ç–æ –º–∞—Å—Å–∏–≤
houses.map(house => <HouseCard key={house.id} {...house} />)
```

### üÜï –ù–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

```javascript
// –î–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
const result = await api.getHouses({ page: 1, limit: 20 })
setHouses(result.data) // –º–∞—Å—Å–∏–≤ –¥–æ–º–æ–≤
setPagination(result.pagination) // –∏–Ω—Ñ–æ –æ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

```javascript
const houses = await api.getHouses()
console.log(houses) // { data: [...], pagination: {...} }
console.log(Array.isArray(houses)) // false ‚ùå
houses.map(...) // TypeError ‚ùå
```

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

```javascript
const houses = await api.getHouses()
console.log(houses) // [...]
console.log(Array.isArray(houses)) // true ‚úÖ
houses.map(...) // –†–∞–±–æ—Ç–∞–µ—Ç! ‚úÖ
```

---

## üìù –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–û–±–Ω–æ–≤–ª–µ–Ω—ã —Ñ–∞–π–ª—ã:
- ‚úÖ `src/services/api.js` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞
- ‚úÖ `QUICKSTART.md` - –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤–∞–∂–Ω–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
- ‚úÖ `BUGFIX.md` - —Å–æ–∑–¥–∞–Ω —ç—Ç–æ—Ç —Ñ–∞–π–ª

---

## üîç –ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –†–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

- ‚úÖ `Home.jsx` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `getHouses()` –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- ‚úÖ –õ—é–±–æ–π –∫–æ–¥, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π `getHouses()` –±–µ–∑ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏

### –¢—Ä–µ–±—É—é—Ç –≤–Ω–∏–º–∞–Ω–∏—è (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏—é)

–ï—Å–ª–∏ –≤ –±—É–¥—É—â–µ–º –≤—ã –¥–æ–±–∞–≤–∏—Ç–µ –ø–∞–≥–∏–Ω–∞—Ü–∏—é, –ø–æ–º–Ω–∏—Ç–µ:

```javascript
// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
const houses = await api.getHouses({ page: 1 })
houses.map(...) // –û—à–∏–±–∫–∞!

// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
const result = await api.getHouses({ page: 1 })
result.data.map(...) // –†–∞–±–æ—Ç–∞–µ—Ç!
```

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ü—Ä–∏ –≤—ã–∑–æ–≤–µ –±–µ–∑ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏** - —Ä–µ–∑—É–ª—å—Ç–∞—Ç —ç—Ç–æ –º–∞—Å—Å–∏–≤
2. **–ü—Ä–∏ –≤—ã–∑–æ–≤–µ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π** (`page`/`limit`/`offset`) - —Ä–µ–∑—É–ª—å—Ç–∞—Ç —ç—Ç–æ –æ–±—ä–µ–∫—Ç
3. **–í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ç–∏–ø** –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `.map()`

### –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω

```javascript
const result = await api.getHouses(params)

// –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥
const houses = Array.isArray(result) ? result : result.data

houses.map(...)
```

---

## ‚úÖ –°—Ç–∞—Ç—É—Å

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞  
**–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞  
**–†–µ–≥—Ä–µ—Å—Å–∏—è:** –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç  

---

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** 23 —Ñ–µ–≤—Ä–∞–ª—è 2026  
**–í–µ—Ä—Å–∏—è API:** v1.1.0 (–ø–∞—Ç—á)
