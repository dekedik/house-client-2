# Infinite Scroll - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–î–∞—Ç–∞ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è:** 23 —Ñ–µ–≤—Ä–∞–ª—è 2026  
**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** `Home.jsx`  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

---

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω infinite scroll (–±–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞) –¥–ª—è —Å–µ–∫—Ü–∏–∏ "–ù–∞—à–∏ –ø—Ä–æ–µ–∫—Ç—ã" –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ.

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–µ
- ‚úÖ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ –æ –∫–æ–Ω—Ü–µ —Å–ø–∏—Å–∫–∞
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–∞–≥–∏–Ω–∞—Ü–∏—è (12 –¥–æ–º–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É)
- ‚úÖ IntersectionObserver –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–∞–≥–∏–Ω–∞—Ü–∏–∏

```javascript
{
  page: 1,        // –ù–∞—á–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
  limit: 12       // –î–æ–º–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ (–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è —Å–µ—Ç–∫–∏ 4 –∫–æ–ª–æ–Ω–∫–∏)
}
```

### State –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

```javascript
const [houses, setHouses] = useState([])           // –ú–∞—Å—Å–∏–≤ –¥–æ–º–æ–≤
const [loading, setLoading] = useState(true)       // –ù–∞—á–∞–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
const [loadingMore, setLoadingMore] = useState(false) // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–ø. –¥–∞–Ω–Ω—ã—Ö
const [page, setPage] = useState(1)                // –¢–µ–∫—É—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
const [hasMore, setHasMore] = useState(true)       // –ï—Å—Ç—å –ª–∏ –µ—â–µ –¥–∞–Ω–Ω—ã–µ
```

---

## üìù –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. –ù–∞—á–∞–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞

```javascript
const [packagesData, housesResult] = await Promise.all([
  api.getPackages(),
  api.getHouses({ page: 1, limit: 12 })
])

setHouses(housesResult.data)
setHasMore(housesResult.pagination.hasNextPage)
```

### 2. –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã

```javascript
const loadMoreHouses = async () => {
  if (loadingMore || !hasMore) return

  setLoadingMore(true)
  const nextPage = page + 1
  const result = await api.getHouses({ page: nextPage, limit: 12 })
  
  setHouses(prev => [...prev, ...result.data]) // –î–æ–±–∞–≤–ª—è–µ–º –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º
  setPage(nextPage)
  setHasMore(result.pagination.hasNextPage)
  setLoadingMore(false)
}
```

### 3. IntersectionObserver

```javascript
const observer = new IntersectionObserver(
  (entries) => {
    if (entries[0].isIntersecting && !loadingMore) {
      loadMoreHouses() // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ sentinel
    }
  },
  { threshold: 0.1, rootMargin: '100px' } // –ù–∞—á–∏–Ω–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É –∑–∞ 100px –¥–æ –∫–æ–Ω—Ü–∞
)

const sentinel = document.getElementById('houses-sentinel')
observer.observe(sentinel)
```

---

## üé® UI –≠–ª–µ–º–µ–Ω—Ç—ã

### Sentinel —ç–ª–µ–º–µ–Ω—Ç

–ù–µ–≤–∏–¥–∏–º—ã–π —ç–ª–µ–º–µ–Ω—Ç –≤ –∫–æ–Ω—Ü–µ —Å–ø–∏—Å–∫–∞, –∫–æ—Ç–æ—Ä—ã–π —Ç—Ä–∏–≥–≥–µ—Ä–∏—Ç –∑–∞–≥—Ä—É–∑–∫—É:

```jsx
{hasMore && <div id="houses-sentinel" className="h-20"></div>}
```

### –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏

```jsx
{loadingMore && (
  <div className="text-center py-8">
    <div className="inline-block animate-spin rounded-full h-10 w-10 
                    border-4 border-[#2C1F14] border-t-transparent"></div>
    <p className="text-gray-600 mt-4">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
  </div>
)}
```

### –°–æ–æ–±—â–µ–Ω–∏–µ –æ –∫–æ–Ω—Ü–µ —Å–ø–∏—Å–∫–∞

```jsx
{!hasMore && houses.length > 0 && (
  <div className="text-center py-8">
    <div className="inline-flex items-center gap-2 text-gray-500">
      <div className="h-px w-16 bg-gradient-to-r from-transparent to-gray-300"></div>
      <span className="text-sm font-medium">–í—Å–µ –ø—Ä–æ–µ–∫—Ç—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã</span>
      <div className="h-px w-16 bg-gradient-to-l from-transparent to-gray-300"></div>
    </div>
  </div>
)}
```

---

## ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

1. **IntersectionObserver**
   - –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ —á–µ–º scroll events
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø—Ä–∏ unmount
   - –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π `rootMargin` –¥–ª—è preloading

2. **–ó–∞—â–∏—Ç–∞ –æ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤**
   ```javascript
   if (loadingMore || !hasMore) return
   ```

3. **–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã**
   - 12 –¥–æ–º–æ–≤ = 3 —Ä—è–¥–∞ –ø–æ 4 –∫–æ–ª–æ–Ω–∫–∏ (xl —ç–∫—Ä–∞–Ω—ã)
   - –ë–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ —Ä–∞–∑–º–µ—Ä–æ–º –¥–∞–Ω–Ω—ã—Ö

### –ú–µ—Ç—Ä–∏–∫–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| –î–æ–º–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É | 12 |
| –ù–∞—á–∞–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ | ~1-2 —Å–µ–∫ |
| –î–æ–ø. –∑–∞–≥—Ä—É–∑–∫–∞ | ~500ms |
| Preload distance | 100px |
| Threshold | 10% |

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°—Ü–µ–Ω–∞—Ä–∏–∏

1. **–ù–∞—á–∞–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞**
   ```
   ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç spinner
   ‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ—Ç –ø–µ—Ä–≤—ã–µ 12 –¥–æ–º–æ–≤
   ‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–µ—Ç–∫—É
   ```

2. **–ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –≤–Ω–∏–∑**
   ```
   ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
   ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
   ‚úÖ –î–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—ã–µ –¥–æ–º–∞ –≤ –∫–æ–Ω–µ—Ü
   ```

3. **–ö–æ–Ω–µ—Ü —Å–ø–∏—Å–∫–∞**
   ```
   ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ "–í—Å–µ –ø—Ä–æ–µ–∫—Ç—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã"
   ‚úÖ –ù–µ –¥–µ–ª–∞–µ—Ç –ª–∏—à–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
   ```

4. **–û—à–∏–±–∫–∏**
   ```
   ‚úÖ –õ–æ–≥–∏—Ä—É–µ—Ç –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª—å
   ‚úÖ –ù–µ –ª–æ–º–∞–µ—Ç UI
   ‚úÖ –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –ø–æ–ø—ã—Ç–∫—É –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–π –ø—Ä–æ–∫—Ä—É—Ç–∫–µ
   ```

---

## üîç –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–û—Ç–∫—Ä–æ–π—Ç–µ DevTools Console –∏ –Ω–∞–±–ª—é–¥–∞–π—Ç–µ:

```javascript
// –ü—Ä–∏ –Ω–∞—á–∞–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–µ
"–ó–∞–≥—Ä—É–∂–µ–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ 1, –¥–æ–º–æ–≤: 12, –µ—Å—Ç—å –µ—â–µ: true"

// –ü—Ä–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–µ
"–ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ 2..."
"–ó–∞–≥—Ä—É–∂–µ–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ 2, –¥–æ–º–æ–≤: 24, –µ—Å—Ç—å –µ—â–µ: true"

// –ü—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –∫–æ–Ω—Ü–∞
"–ó–∞–≥—Ä—É–∂–µ–Ω–∞ –ø–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞, –≤—Å–µ–≥–æ –¥–æ–º–æ–≤: 42"
```

### –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

**–ü—Ä–æ–±–ª–µ–º–∞:** –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å–ª–∏—à–∫–æ–º —Ä–∞–Ω–æ  
**–†–µ—à–µ–Ω–∏–µ:** –£–≤–µ–ª–∏—á—å—Ç–µ `rootMargin` –≤ IntersectionObserver

**–ü—Ä–æ–±–ª–µ–º–∞:** –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã  
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å–ª–æ–≤–∏–µ `if (loadingMore || !hasMore)`

**–ü—Ä–æ–±–ª–µ–º–∞:** Sentinel –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç  
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —ç–ª–µ–º–µ–Ω—Ç —Å `id="houses-sentinel"` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ DOM

---

## üéØ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è

- [ ] –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "–ó–∞–≥—Ä—É–∑–∏—Ç—å –µ—â–µ" –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É
- [ ] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
- [ ] –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞ –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
- [ ] Skeleton loading –≤–º–µ—Å—Ç–æ spinner

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

- [ ] –§–∏–ª—å—Ç—Ä—ã —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º infinite scroll
- [ ] –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
- [ ] –ü–æ–∏—Å–∫

---

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [API_USAGE.md](./API_USAGE.md) - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
- [QUICKSTART.md](./QUICKSTART.md) - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- [README.md](./README.md) - –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –¢–∏–ø–∏—á–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ö–æ–¥–∏—Ç –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
  ‚Üì
–ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø–µ—Ä–≤—ã–µ 12 –¥–æ–º–æ–≤ (—Å—Ç—Ä–∞–Ω–∏—Ü–∞ 1)
  ‚Üì
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ—Ç –≤–Ω–∏–∑
  ‚Üì
–ó–∞ 100px –¥–æ –∫–æ–Ω—Ü–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ 2 (12 –¥–æ–º–æ–≤)
  ‚Üì
–¢–µ–ø–µ—Ä—å –≤ —Å–ø–∏—Å–∫–µ 24 –¥–æ–º–∞
  ‚Üì
–ü—Ä–æ—Ü–µ—Å—Å –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è –ø–æ–∫–∞ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ
  ‚Üì
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ "–í—Å–µ –ø—Ä–æ–µ–∫—Ç—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã"
```

### –°—Ä–µ–¥–Ω–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏

- **–í—Ä–µ–º—è –¥–æ –ø–µ—Ä–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞:** 1-2 —Å–µ–∫
- **–í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ–ø. —Å—Ç—Ä–∞–Ω–∏—Ü—ã:** 500ms
- **–°—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü:** 3-4
- **–°—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã—Ö –¥–æ–º–æ–≤:** 20-30

---

**–í–µ—Ä—Å–∏—è:** 1.0  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 23 —Ñ–µ–≤—Ä–∞–ª—è 2026  
**–ê–≤—Ç–æ—Ä:** AI Assistant
